{"remainingRequest":"/Users/shanebeal/Desktop/bodewiki/node_modules/babel-loader/lib/index.js??ref--0-1!/Users/shanebeal/Desktop/bodewiki/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shanebeal/Desktop/bodewiki/client/components/common/nav-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shanebeal/Desktop/bodewiki/client/components/common/nav-header.vue","mtime":1742851626000},{"path":"/Users/shanebeal/Desktop/bodewiki/.babelrc","mtime":1742797763162},{"path":"/Users/shanebeal/Desktop/bodewiki/node_modules/cache-loader/dist/cjs.js","mtime":1743632217742},{"path":"/Users/shanebeal/Desktop/bodewiki/node_modules/babel-loader/lib/index.js","mtime":1743632218430},{"path":"/Users/shanebeal/Desktop/bodewiki/node_modules/vue-loader/lib/index.js","mtime":1743632218723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9nZXQgZnJvbSAibG9kYXNoL2dldCI7CmltcG9ydCBfaW5pdGlhbCBmcm9tICJsb2Rhc2gvaW5pdGlhbCI7CmltcG9ydCBfZGVsYXkgZnJvbSAibG9kYXNoL2RlbGF5IjsKaW1wb3J0IF9pbnRlcnNlY3Rpb24gZnJvbSAibG9kYXNoL2ludGVyc2VjdGlvbiI7CmltcG9ydCBfbGFzdCBmcm9tICJsb2Rhc2gvbGFzdCI7CmltcG9ydCBfaGVhZCBmcm9tICJsb2Rhc2gvaGVhZCI7CmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7ICJ1c2Ugc3RyaWN0IjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGU7IH07IHZhciB0LCBlID0ge30sIHIgPSBPYmplY3QucHJvdG90eXBlLCBuID0gci5oYXNPd25Qcm9wZXJ0eSwgbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAodCwgZSwgcikgeyB0W2VdID0gci52YWx1ZTsgfSwgaSA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBhID0gaS5pdGVyYXRvciB8fCAiQEBpdGVyYXRvciIsIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgIkBAYXN5bmNJdGVyYXRvciIsIHUgPSBpLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsgZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHsgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBlLCB7IHZhbHVlOiByLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pLCB0W2VdOyB9IHRyeSB7IGRlZmluZSh7fSwgIiIpOyB9IGNhdGNoICh0KSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiB0W2VdID0gcjsgfTsgfSBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHsgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvciwgYSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7IHJldHVybiBvKGEsICJfaW52b2tlIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKSB9KSwgYTsgfSBmdW5jdGlvbiB0cnlDYXRjaCh0LCBlLCByKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6ICJub3JtYWwiLCBhcmc6IHQuY2FsbChlLCByKSB9OyB9IGNhdGNoICh0KSB7IHJldHVybiB7IHR5cGU6ICJ0aHJvdyIsIGFyZzogdCB9OyB9IH0gZS53cmFwID0gd3JhcDsgdmFyIGggPSAic3VzcGVuZGVkU3RhcnQiLCBsID0gInN1c3BlbmRlZFlpZWxkIiwgZiA9ICJleGVjdXRpbmciLCBzID0gImNvbXBsZXRlZCIsIHkgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBwID0ge307IGRlZmluZShwLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIHYgPSBkICYmIGQoZCh2YWx1ZXMoW10pKSk7IHYgJiYgdiAhPT0gciAmJiBuLmNhbGwodiwgYSkgJiYgKHAgPSB2KTsgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpIHsgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZGVmaW5lKHQsIGUsIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKHQsIGUpIHsgZnVuY3Rpb24gaW52b2tlKHIsIG8sIGksIGEpIHsgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTsgaWYgKCJ0aHJvdyIgIT09IGMudHlwZSkgeyB2YXIgdSA9IGMuYXJnLCBoID0gdS52YWx1ZTsgcmV0dXJuIGggJiYgIm9iamVjdCIgPT0gdHlwZW9mIGggJiYgbi5jYWxsKGgsICJfX2F3YWl0IikgPyBlLnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh0KSB7IGludm9rZSgibmV4dCIsIHQsIGksIGEpOyB9LCBmdW5jdGlvbiAodCkgeyBpbnZva2UoInRocm93IiwgdCwgaSwgYSk7IH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgdS52YWx1ZSA9IHQsIGkodSk7IH0sIGZ1bmN0aW9uICh0KSB7IHJldHVybiBpbnZva2UoInRocm93IiwgdCwgaSwgYSk7IH0pOyB9IGEoYy5hcmcpOyB9IHZhciByOyBvKHRoaXMsICJfaW52b2tlIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBlKGZ1bmN0aW9uIChlLCByKSB7IGludm9rZSh0LCBuLCBlLCByKTsgfSk7IH0gcmV0dXJuIHIgPSByID8gci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikgeyB2YXIgbyA9IGg7IHJldHVybiBmdW5jdGlvbiAoaSwgYSkgeyBpZiAobyA9PT0gZikgdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTsgaWYgKG8gPT09IHMpIHsgaWYgKCJ0aHJvdyIgPT09IGkpIHRocm93IGE7IHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiAhMCB9OyB9IGZvciAobi5tZXRob2QgPSBpLCBuLmFyZyA9IGE7OykgeyB2YXIgYyA9IG4uZGVsZWdhdGU7IGlmIChjKSB7IHZhciB1ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShjLCBuKTsgaWYgKHUpIHsgaWYgKHUgPT09IHkpIGNvbnRpbnVlOyByZXR1cm4gdTsgfSB9IGlmICgibmV4dCIgPT09IG4ubWV0aG9kKSBuLnNlbnQgPSBuLl9zZW50ID0gbi5hcmc7ZWxzZSBpZiAoInRocm93IiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSAicmV0dXJuIiA9PT0gbi5tZXRob2QgJiYgbi5hYnJ1cHQoInJldHVybiIsIG4uYXJnKTsgbyA9IGY7IHZhciBwID0gdHJ5Q2F0Y2goZSwgciwgbik7IGlmICgibm9ybWFsIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSAidGhyb3ciID09PSBwLnR5cGUgJiYgKG8gPSBzLCBuLm1ldGhvZCA9ICJ0aHJvdyIsIG4uYXJnID0gcC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSB7IHZhciBuID0gci5tZXRob2QsIG8gPSBlLml0ZXJhdG9yW25dOyBpZiAobyA9PT0gdCkgcmV0dXJuIHIuZGVsZWdhdGUgPSBudWxsLCAidGhyb3ciID09PSBuICYmIGUuaXRlcmF0b3IucmV0dXJuICYmIChyLm1ldGhvZCA9ICJyZXR1cm4iLCByLmFyZyA9IHQsIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgciksICJ0aHJvdyIgPT09IHIubWV0aG9kKSB8fCAicmV0dXJuIiAhPT0gbiAmJiAoci5tZXRob2QgPSAidGhyb3ciLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIgKyBuICsgIicgbWV0aG9kIikpLCB5OyB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTsgaWYgKCJ0aHJvdyIgPT09IGkudHlwZSkgcmV0dXJuIHIubWV0aG9kID0gInRocm93Iiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7IHZhciBhID0gaS5hcmc7IHJldHVybiBhID8gYS5kb25lID8gKHJbZS5yZXN1bHROYW1lXSA9IGEudmFsdWUsIHIubmV4dCA9IGUubmV4dExvYywgInJldHVybiIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9ICJuZXh0Iiwgci5hcmcgPSB0KSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpIDogYSA6IChyLm1ldGhvZCA9ICJ0aHJvdyIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7IHZhciBlID0geyB0cnlMb2M6IHRbMF0gfTsgMSBpbiB0ICYmIChlLmNhdGNoTG9jID0gdFsxXSksIDIgaW4gdCAmJiAoZS5maW5hbGx5TG9jID0gdFsyXSwgZS5hZnRlckxvYyA9IHRbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlKTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307IGUudHlwZSA9ICJub3JtYWwiLCBkZWxldGUgZS5hcmcsIHQuY29tcGxldGlvbiA9IGU7IH0gZnVuY3Rpb24gQ29udGV4dCh0KSB7IHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogInJvb3QiIH1dLCB0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGUpIHsgaWYgKGUgfHwgIiIgPT09IGUpIHsgdmFyIHIgPSBlW2FdOyBpZiAocikgcmV0dXJuIHIuY2FsbChlKTsgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGUubmV4dCkgcmV0dXJuIGU7IGlmICghaXNOYU4oZS5sZW5ndGgpKSB7IHZhciBvID0gLTEsIGkgPSBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgKytvIDwgZS5sZW5ndGg7KSBpZiAobi5jYWxsKGUsIG8pKSByZXR1cm4gbmV4dC52YWx1ZSA9IGVbb10sIG5leHQuZG9uZSA9ICExLCBuZXh0OyByZXR1cm4gbmV4dC52YWx1ZSA9IHQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gaS5uZXh0ID0gaTsgfSB9IHRocm93IG5ldyBUeXBlRXJyb3IodHlwZW9mIGUgKyAiIGlzIG5vdCBpdGVyYWJsZSIpOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCAiY29uc3RydWN0b3IiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgY29uZmlndXJhYmxlOiAhMCB9KSwgbyhHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgImNvbnN0cnVjdG9yIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCAiR2VuZXJhdG9yRnVuY3Rpb24iKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSAiZnVuY3Rpb24iID09IHR5cGVvZiB0ICYmIHQuY29uc3RydWN0b3I7IHJldHVybiAhIWUgJiYgKGUgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8ICJHZW5lcmF0b3JGdW5jdGlvbiIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOyB9LCBlLm1hcmsgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgIkdlbmVyYXRvckZ1bmN0aW9uIikpLCB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZyksIHQ7IH0sIGUuYXdyYXAgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4geyBfX2F3YWl0OiB0IH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkgeyB2b2lkIDAgPT09IGkgJiYgKGkgPSBQcm9taXNlKTsgdmFyIGEgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQsIHIsIG4sIG8pLCBpKTsgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCAiR2VuZXJhdG9yIiksIGRlZmluZShnLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKGcsICJ0b1N0cmluZyIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICJbb2JqZWN0IEdlbmVyYXRvcl0iOyB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBPYmplY3QodCksIHIgPSBbXTsgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7IHJldHVybiByLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IHIubGVuZ3RoOykgeyB2YXIgdCA9IHIucG9wKCk7IGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBlLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoZSkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSAibmV4dCIsIHRoaXMuYXJnID0gdCwgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksICFlKSBmb3IgKHZhciByIGluIHRoaXMpICJ0IiA9PT0gci5jaGFyQXQoMCkgJiYgbi5jYWxsKHRoaXMsIHIpICYmICFpc05hTigrci5zbGljZSgxKSkgJiYgKHRoaXNbcl0gPSB0KTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciB0ID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmICgidGhyb3ciID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBlOyB2YXIgciA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7IHJldHVybiBhLnR5cGUgPSAidGhyb3ciLCBhLmFyZyA9IGUsIHIubmV4dCA9IG4sIG8gJiYgKHIubWV0aG9kID0gIm5leHQiLCByLmFyZyA9IHQpLCAhIW87IH0gZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykgeyB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSwgYSA9IGkuY29tcGxldGlvbjsgaWYgKCJyb290IiA9PT0gaS50cnlMb2MpIHJldHVybiBoYW5kbGUoImVuZCIpOyBpZiAoaS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBjID0gbi5jYWxsKGksICJjYXRjaExvYyIpLCB1ID0gbi5jYWxsKGksICJmaW5hbGx5TG9jIik7IGlmIChjICYmIHUpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoYykgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghdSkgdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodCwgZSkgeyBmb3IgKHZhciByID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IHIgPj0gMDsgLS1yKSB7IHZhciBvID0gdGhpcy50cnlFbnRyaWVzW3JdOyBpZiAoby50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIG4uY2FsbChvLCAiZmluYWxseUxvYyIpICYmIHRoaXMucHJldiA8IG8uZmluYWxseUxvYykgeyB2YXIgaSA9IG87IGJyZWFrOyB9IH0gaSAmJiAoImJyZWFrIiA9PT0gdCB8fCAiY29udGludWUiID09PSB0KSAmJiBpLnRyeUxvYyA8PSBlICYmIGUgPD0gaS5maW5hbGx5TG9jICYmIChpID0gbnVsbCk7IHZhciBhID0gaSA/IGkuY29tcGxldGlvbiA6IHt9OyByZXR1cm4gYS50eXBlID0gdCwgYS5hcmcgPSBlLCBpID8gKHRoaXMubWV0aG9kID0gIm5leHQiLCB0aGlzLm5leHQgPSBpLmZpbmFsbHlMb2MsIHkpIDogdGhpcy5jb21wbGV0ZShhKTsgfSwgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHQsIGUpIHsgaWYgKCJ0aHJvdyIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiAiYnJlYWsiID09PSB0LnR5cGUgfHwgImNvbnRpbnVlIiA9PT0gdC50eXBlID8gdGhpcy5uZXh0ID0gdC5hcmcgOiAicmV0dXJuIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gInJldHVybiIsIHRoaXMubmV4dCA9ICJlbmQiKSA6ICJub3JtYWwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIudHJ5TG9jID09PSB0KSB7IHZhciBuID0gci5jb21wbGV0aW9uOyBpZiAoInRocm93IiA9PT0gbi50eXBlKSB7IHZhciBvID0gbi5hcmc7IHJlc2V0VHJ5RW50cnkocik7IH0gcmV0dXJuIG87IH0gfSB0aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSwgciwgbikgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhlKSwgcmVzdWx0TmFtZTogciwgbmV4dExvYzogbiB9LCAibmV4dCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5OyB9IH0sIGU7IH0KZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKG4sIHQsIGUsIHIsIG8sIGEsIGMpIHsgdHJ5IHsgdmFyIGkgPSBuW2FdKGMpLCB1ID0gaS52YWx1ZTsgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBlKG4pOyB9IGkuZG9uZSA/IHQodSkgOiBQcm9taXNlLnJlc29sdmUodSkudGhlbihyLCBvKTsgfQpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gdGhpcywgZSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyLCBvKSB7IHZhciBhID0gbi5hcHBseSh0LCBlKTsgZnVuY3Rpb24gX25leHQobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgIm5leHQiLCBuKTsgfSBmdW5jdGlvbiBfdGhyb3cobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgInRocm93Iiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH0KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldCwgc3luYyB9IGZyb20gJ3Z1ZXgtcGF0aGlmeSc7CmltcG9ydCBtb3ZlUGFnZU11dGF0aW9uIGZyb20gJ2dxbC9jb21tb24vY29tbW9uLXBhZ2VzLW11dGF0aW9uLW1vdmUuZ3FsJzsKCi8qIGdsb2JhbCBzaXRlQ29uZmlnLCBzaXRlTGFuZ3MgKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQYWdlRGVsZXRlOiBmdW5jdGlvbiBQYWdlRGVsZXRlKCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL3BhZ2UtZGVsZXRlLnZ1ZScpOwogICAgfSwKICAgIFBhZ2VDb252ZXJ0OiBmdW5jdGlvbiBQYWdlQ29udmVydCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi9wYWdlLWNvbnZlcnQudnVlJyk7CiAgICB9CiAgfSwKICBwcm9wczogewogICAgZGVuc2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBoaWRlU2VhcmNoOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudUlzU2hvd246IHRydWUsCiAgICAgIHNlYXJjaElzU2hvd246IHRydWUsCiAgICAgIHNlYXJjaEFkdk1lbnVTaG93bjogZmFsc2UsCiAgICAgIG5ld1BhZ2VNb2RhbDogZmFsc2UsCiAgICAgIG1vdmVQYWdlTW9kYWw6IGZhbHNlLAogICAgICBjb252ZXJ0UGFnZU1vZGFsOiBmYWxzZSwKICAgICAgZGVsZXRlUGFnZU1vZGFsOiBmYWxzZSwKICAgICAgbG9jYWxlczogc2l0ZUxhbmdzLAogICAgICBpc0Rldk1vZGU6IGZhbHNlLAogICAgICBkdXBsaWNhdGVPcHRzOiB7CiAgICAgICAgbG9jYWxlOiAnZW4nLAogICAgICAgIHBhdGg6ICduZXctcGFnZScsCiAgICAgICAgbW9kYWw6IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2VhcmNoOiBzeW5jKCdzaXRlL3NlYXJjaCcpLAogICAgc2VhcmNoSXNGb2N1c2VkOiBzeW5jKCdzaXRlL3NlYXJjaElzRm9jdXNlZCcpLAogICAgc2VhcmNoSXNMb2FkaW5nOiBzeW5jKCdzaXRlL3NlYXJjaElzTG9hZGluZycpLAogICAgc2VhcmNoUmVzdHJpY3RMb2NhbGU6IHN5bmMoJ3NpdGUvc2VhcmNoUmVzdHJpY3RMb2NhbGUnKSwKICAgIHNlYXJjaFJlc3RyaWN0UGF0aDogc3luYygnc2l0ZS9zZWFyY2hSZXN0cmljdFBhdGgnKSwKICAgIGlzTG9hZGluZzogZ2V0KCdpc0xvYWRpbmcnKSwKICAgIHRpdGxlOiBnZXQoJ3NpdGUvdGl0bGUnKSwKICAgIGxvZ29Vcmw6IGdldCgnc2l0ZS9sb2dvVXJsJyksCiAgICBwYXRoOiBnZXQoJ3BhZ2UvcGF0aCcpLAogICAgbG9jYWxlOiBnZXQoJ3BhZ2UvbG9jYWxlJyksCiAgICBtb2RlOiBnZXQoJ3BhZ2UvbW9kZScpLAogICAgbmFtZTogZ2V0KCd1c2VyL25hbWUnKSwKICAgIGVtYWlsOiBnZXQoJ3VzZXIvZW1haWwnKSwKICAgIHBpY3R1cmVVcmw6IGdldCgndXNlci9waWN0dXJlVXJsJyksCiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGdldCgndXNlci9hdXRoZW50aWNhdGVkJyksCiAgICBwZXJtaXNzaW9uczogZ2V0KCd1c2VyL3Blcm1pc3Npb25zJyksCiAgICBwaWN0dXJlOiBmdW5jdGlvbiBwaWN0dXJlKCkgewogICAgICBpZiAodGhpcy5waWN0dXJlVXJsICYmIHRoaXMucGljdHVyZVVybC5sZW5ndGggPiAxKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGtpbmQ6ICdpbWFnZScsCiAgICAgICAgICB1cmw6IHRoaXMucGljdHVyZVVybCA9PT0gJ2ludGVybmFsJyA/ICIvX3VzZXJhdi8iICsgdGhpcy4kc3RvcmUuZ2V0KCd1c2VyL2lkJykgOiB0aGlzLnBpY3R1cmVVcmwKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBuYW1lUGFydHMgPSB0aGlzLm5hbWUudG9VcHBlckNhc2UoKS5zcGxpdCgnICcpOwogICAgICAgIHZhciBpbml0aWFscyA9IF9oZWFkKG5hbWVQYXJ0cykuY2hhckF0KDApOwogICAgICAgIGlmIChuYW1lUGFydHMubGVuZ3RoID4gMSkgewogICAgICAgICAgaW5pdGlhbHMgKz0gX2xhc3QobmFtZVBhcnRzKS5jaGFyQXQoMCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICBraW5kOiAnaW5pdGlhbHMnLAogICAgICAgICAgaW5pdGlhbHM6IGluaXRpYWxzCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGlzQWRtaW46IGZ1bmN0aW9uIGlzQWRtaW4oKSB7CiAgICAgIHJldHVybiBfaW50ZXJzZWN0aW9uKHRoaXMucGVybWlzc2lvbnMsIFsnbWFuYWdlOnN5c3RlbScsICd3cml0ZTp1c2VycycsICdtYW5hZ2U6dXNlcnMnLCAnd3JpdGU6Z3JvdXBzJywgJ21hbmFnZTpncm91cHMnLCAnbWFuYWdlOm5hdmlnYXRpb24nLCAnbWFuYWdlOnRoZW1lJywgJ21hbmFnZTphcGknXSkubGVuZ3RoID4gMDsKICAgIH0sCiAgICBoYXNOZXdQYWdlUGVybWlzc2lvbjogZnVuY3Rpb24gaGFzTmV3UGFnZVBlcm1pc3Npb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmhhc0FkbWluUGVybWlzc2lvbiB8fCBfaW50ZXJzZWN0aW9uKHRoaXMucGVybWlzc2lvbnMsIFsnd3JpdGU6cGFnZXMnXSkubGVuZ3RoID4gMDsKICAgIH0sCiAgICBoYXNBZG1pblBlcm1pc3Npb246IGdldCgncGFnZS9lZmZlY3RpdmVQZXJtaXNzaW9uc0BzeXN0ZW0ubWFuYWdlJyksCiAgICBoYXNXcml0ZVBhZ2VzUGVybWlzc2lvbjogZ2V0KCdwYWdlL2VmZmVjdGl2ZVBlcm1pc3Npb25zQHBhZ2VzLndyaXRlJyksCiAgICBoYXNNYW5hZ2VQYWdlc1Blcm1pc3Npb246IGdldCgncGFnZS9lZmZlY3RpdmVQZXJtaXNzaW9uc0BwYWdlcy5tYW5hZ2UnKSwKICAgIGhhc0RlbGV0ZVBhZ2VzUGVybWlzc2lvbjogZ2V0KCdwYWdlL2VmZmVjdGl2ZVBlcm1pc3Npb25zQHBhZ2VzLmRlbGV0ZScpLAogICAgaGFzUmVhZFNvdXJjZVBlcm1pc3Npb246IGdldCgncGFnZS9lZmZlY3RpdmVQZXJtaXNzaW9uc0Bzb3VyY2UucmVhZCcpLAogICAgaGFzUmVhZEhpc3RvcnlQZXJtaXNzaW9uOiBnZXQoJ3BhZ2UvZWZmZWN0aXZlUGVybWlzc2lvbnNAaGlzdG9yeS5yZWFkJyksCiAgICBoYXNBbnlQYWdlUGVybWlzc2lvbnM6IGZ1bmN0aW9uIGhhc0FueVBhZ2VQZXJtaXNzaW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuaGFzQWRtaW5QZXJtaXNzaW9uIHx8IHRoaXMuaGFzV3JpdGVQYWdlc1Blcm1pc3Npb24gfHwgdGhpcy5oYXNNYW5hZ2VQYWdlc1Blcm1pc3Npb24gfHwgdGhpcy5oYXNEZWxldGVQYWdlc1Blcm1pc3Npb24gfHwgdGhpcy5oYXNSZWFkU291cmNlUGVybWlzc2lvbiB8fCB0aGlzLmhhc1JlYWRIaXN0b3J5UGVybWlzc2lvbjsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5oaWRlU2VhcmNoIHx8IHRoaXMuZGVuc2UgfHwgdGhpcy4kdnVldGlmeS5icmVha3BvaW50LnNtQW5kRG93bikgewogICAgICB0aGlzLnNlYXJjaElzU2hvd24gPSBmYWxzZTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdGhpcy4kcm9vdC4kb24oJ3BhZ2VFZGl0JywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5wYWdlRWRpdCgpOwogICAgfSk7CiAgICB0aGlzLiRyb290LiRvbigncGFnZUhpc3RvcnknLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnBhZ2VIaXN0b3J5KCk7CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCdwYWdlU291cmNlJywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5wYWdlU291cmNlKCk7CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCdwYWdlTW92ZScsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucGFnZU1vdmUoKTsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oJ3BhZ2VDb252ZXJ0JywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5wYWdlQ29udmVydCgpOwogICAgfSk7CiAgICB0aGlzLiRyb290LiRvbigncGFnZUR1cGxpY2F0ZScsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucGFnZUR1cGxpY2F0ZSgpOwogICAgfSk7CiAgICB0aGlzLiRyb290LiRvbigncGFnZURlbGV0ZScsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucGFnZURlbGV0ZSgpOwogICAgfSk7CiAgICB0aGlzLmlzRGV2TW9kZSA9IHNpdGVDb25maWcuZGV2TW9kZSA9PT0gdHJ1ZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlYXJjaEZvY3VzOiBmdW5jdGlvbiBzZWFyY2hGb2N1cygpIHsKICAgICAgdGhpcy5zZWFyY2hJc0ZvY3VzZWQgPSB0cnVlOwogICAgfSwKICAgIHNlYXJjaEJsdXI6IGZ1bmN0aW9uIHNlYXJjaEJsdXIoKSB7CiAgICAgIHRoaXMuc2VhcmNoSXNGb2N1c2VkID0gZmFsc2U7CiAgICB9LAogICAgc2VhcmNoQ2xvc2U6IGZ1bmN0aW9uIHNlYXJjaENsb3NlKCkgewogICAgICB0aGlzLnNlYXJjaCA9ICcnOwogICAgICB0aGlzLnNlYXJjaEJsdXIoKTsKICAgIH0sCiAgICBzZWFyY2hUb2dnbGU6IGZ1bmN0aW9uIHNlYXJjaFRvZ2dsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuc2VhcmNoSXNTaG93biA9ICF0aGlzLnNlYXJjaElzU2hvd247CiAgICAgIGlmICh0aGlzLnNlYXJjaElzU2hvd24pIHsKICAgICAgICBfZGVsYXkoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRyZWZzLnNlYXJjaEZpZWxkTW9iaWxlLmZvY3VzKCk7CiAgICAgICAgfSwgMjAwKTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaEVudGVyOiBmdW5jdGlvbiBzZWFyY2hFbnRlcigpIHsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgnc2VhcmNoRW50ZXInLCB0cnVlKTsKICAgIH0sCiAgICBzZWFyY2hNb3ZlOiBmdW5jdGlvbiBzZWFyY2hNb3ZlKGRpcikgewogICAgICB0aGlzLiRyb290LiRlbWl0KCdzZWFyY2hNb3ZlJywgZGlyKTsKICAgIH0sCiAgICBwYWdlTmV3OiBmdW5jdGlvbiBwYWdlTmV3KCkgewogICAgICB0aGlzLm5ld1BhZ2VNb2RhbCA9IHRydWU7CiAgICB9LAogICAgcGFnZU5ld0NyZWF0ZTogZnVuY3Rpb24gcGFnZU5ld0NyZWF0ZShfcmVmKSB7CiAgICAgIHZhciBwYXRoID0gX3JlZi5wYXRoLAogICAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlOwogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCIvZS8iICsgbG9jYWxlICsgIi8iICsgcGF0aCk7CiAgICB9LAogICAgcGFnZVZpZXc6IGZ1bmN0aW9uIHBhZ2VWaWV3KCkgewogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCIvIiArIHRoaXMubG9jYWxlICsgIi8iICsgdGhpcy5wYXRoKTsKICAgIH0sCiAgICBwYWdlRWRpdDogZnVuY3Rpb24gcGFnZUVkaXQoKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oIi9lLyIgKyB0aGlzLmxvY2FsZSArICIvIiArIHRoaXMucGF0aCk7CiAgICB9LAogICAgcGFnZUhpc3Rvcnk6IGZ1bmN0aW9uIHBhZ2VIaXN0b3J5KCkgewogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCIvaC8iICsgdGhpcy5sb2NhbGUgKyAiLyIgKyB0aGlzLnBhdGgpOwogICAgfSwKICAgIHBhZ2VTb3VyY2U6IGZ1bmN0aW9uIHBhZ2VTb3VyY2UoKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oIi9zLyIgKyB0aGlzLmxvY2FsZSArICIvIiArIHRoaXMucGF0aCk7CiAgICB9LAogICAgcGFnZUR1cGxpY2F0ZTogZnVuY3Rpb24gcGFnZUR1cGxpY2F0ZSgpIHsKICAgICAgdmFyIHBhdGhQYXJ0cyA9IHRoaXMucGF0aC5zcGxpdCgnLycpOwogICAgICB0aGlzLmR1cGxpY2F0ZU9wdHMgPSB7CiAgICAgICAgbG9jYWxlOiB0aGlzLmxvY2FsZSwKICAgICAgICBwYXRoOiBwYXRoUGFydHMubGVuZ3RoID4gMSA/IF9pbml0aWFsKHBhdGhQYXJ0cykuam9pbignLycpICsgIi9uZXctcGFnZSIgOiAibmV3LXBhZ2UiLAogICAgICAgIG1vZGFsOiB0cnVlCiAgICAgIH07CiAgICB9LAogICAgcGFnZUR1cGxpY2F0ZUhhbmRsZTogZnVuY3Rpb24gcGFnZUR1cGxpY2F0ZUhhbmRsZShfcmVmMikgewogICAgICB2YXIgbG9jYWxlID0gX3JlZjIubG9jYWxlLAogICAgICAgIHBhdGggPSBfcmVmMi5wYXRoOwogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCIvZS8iICsgbG9jYWxlICsgIi8iICsgcGF0aCArICI/ZnJvbT0iICsgdGhpcy4kc3RvcmUuZ2V0KCdwYWdlL2lkJykpOwogICAgfSwKICAgIHBhZ2VDb252ZXJ0OiBmdW5jdGlvbiBwYWdlQ29udmVydCgpIHsKICAgICAgdGhpcy5jb252ZXJ0UGFnZU1vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBwYWdlTW92ZTogZnVuY3Rpb24gcGFnZU1vdmUoKSB7CiAgICAgIHRoaXMubW92ZVBhZ2VNb2RhbCA9IHRydWU7CiAgICB9LAogICAgcGFnZU1vdmVSZW5hbWU6IGZ1bmN0aW9uIHBhZ2VNb3ZlUmVuYW1lKF9yZWYzKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHBhdGgsIGxvY2FsZSwgcmVzcDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBwYXRoID0gX3JlZjMucGF0aCwgbG9jYWxlID0gX3JlZjMubG9jYWxlOwogICAgICAgICAgICAgIF90aGlzMy4kc3RvcmUuY29tbWl0KCJsb2FkaW5nU3RhcnQiLCAncGFnZS1tb3ZlJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgICAgICAgICBtdXRhdGlvbjogbW92ZVBhZ2VNdXRhdGlvbiwKICAgICAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMzLiRzdG9yZS5nZXQoJ3BhZ2UvaWQnKSwKICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25Mb2NhbGU6IGxvY2FsZSwKICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25QYXRoOiBwYXRoCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBpZiAoIV9nZXQocmVzcCwgJ2RhdGEucGFnZXMubW92ZS5yZXNwb25zZVJlc3VsdC5zdWNjZWVkZWQnLCBmYWxzZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgiLyIgKyBsb2NhbGUgKyAiLyIgKyBwYXRoKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKF9nZXQocmVzcCwgJ2RhdGEucGFnZXMubW92ZS5yZXNwb25zZVJlc3VsdC5tZXNzYWdlJywgX3RoaXMzLiR0KCdjb21tb246ZXJyb3IudW5leHBlY3RlZCcpKSk7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgIF90aGlzMy4kc3RvcmUuY29tbWl0KCdwdXNoR3JhcGhFcnJvcicsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLmNvbW1pdCgibG9hZGluZ1N0b3AiLCAncGFnZS1tb3ZlJyk7CiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwYWdlRGVsZXRlOiBmdW5jdGlvbiBwYWdlRGVsZXRlKCkgewogICAgICB0aGlzLmRlbGV0ZVBhZ2VNb2RhbCA9IHRydWU7CiAgICB9LAogICAgYXNzZXRzOiBmdW5jdGlvbiBhc3NldHMoKSB7CiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYC9mYCkKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzaG93Tm90aWZpY2F0aW9uJywgewogICAgICAgIHN0eWxlOiAnaW5kaWdvJywKICAgICAgICBtZXNzYWdlOiAiQ29taW5nIHNvb24uLi4iLAogICAgICAgIGljb246ICdmZXJyeScKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlTG9jYWxlOiBmdW5jdGlvbiBjaGFuZ2VMb2NhbGUobG9jYWxlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kaTE4bi5pMThuZXh0LmNoYW5nZUxhbmd1YWdlKGxvY2FsZS5jb2RlKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF90aGlzNC5tb2RlOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gX2NvbnRleHQyLnQwID09PSAndmlldycgPyA1IDogX2NvbnRleHQyLnQwID09PSAnaGlzdG9yeScgPyA1IDogNzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oIi8iICsgbG9jYWxlLmNvZGUgKyAiLyIgKyBfdGhpczQucGF0aCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgNyk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCcvbG9nb3V0Jyk7CiAgICB9LAogICAgZ29Ib21lOiBmdW5jdGlvbiBnb0hvbWUoKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJy8nKTsKICAgIH0KICB9Cn07"},null]}