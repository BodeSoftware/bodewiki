/*! Wiki.js - wiki.js.org - Licensed under AGPL */
(this.webpackJsonp=this.webpackJsonp||[]).push([["editor-conflict"],{"./client/components/editor/editor-modal-conflict.vue":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"editor-modal-conflict animated fadeIn",attrs:{flat:"",tile:""}},[i("div",{staticClass:"pa-4"},[i("v-toolbar",{staticClass:"radius-7",staticStyle:{"border-bottom-left-radius":"0","border-bottom-right-radius":"0"},attrs:{flat:"",color:"indigo",dark:""}},[i("v-icon",{staticClass:"mr-3"},[t._v("mdi-merge")]),i("div",{staticClass:"subtitle-1"},[t._v(t._s(t.$t("editor:conflict.title")))]),i("v-spacer"),i("v-btn",{attrs:{outlined:"",color:"white",title:t.$t("editor:conflict.useLocalHint")},on:{click:t.useLocal}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-alpha-l-box")]),i("span",[t._v(t._s(t.$t("editor:conflict.useLocal")))])],1),i("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"ml-3",attrs:{outlined:"",color:"white",title:t.$t("editor:conflict.useRemoteHint")}},n),[i("v-icon",{attrs:{left:""}},[t._v("mdi-alpha-r-box")]),i("span",[t._v(t._s(t.$t("editor:conflict.useRemote")))])],1)]}}]),model:{value:t.isRemoteConfirmDiagShown,callback:function(e){t.isRemoteConfirmDiagShown=e},expression:"isRemoteConfirmDiagShown"}},[i("v-card",[i("div",{staticClass:"dialog-header is-short is-indigo"},[i("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("mdi-alpha-r-box")]),i("span",[t._v(t._s(t.$t("editor:conflict.overwrite.title")))])],1),i("v-card-text",{staticClass:"pa-4"},[i("i18next",{staticClass:"body-2",attrs:{tag:"div",path:"editor:conflict.overwrite.description"}},[i("strong",{attrs:{place:"refEditsLost"}},[t._v(t._s(t.$t("editor:conflict.overwrite.editsLost")))])])],1),i("v-card-chin",[i("v-spacer"),i("v-btn",{attrs:{outlined:"",color:"indigo"},on:{click:function(e){t.isRemoteConfirmDiagShown=!1}}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-close")]),i("span",[t._v(t._s(t.$t("common:actions.cancel")))])],1),i("v-btn",{attrs:{color:"indigo",dark:""},on:{click:t.useRemote}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-check")]),i("span",[t._v(t._s(t.$t("common:actions.confirm")))])],1)],1)],1)],1),i("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),i("v-btn",{attrs:{outlined:"",color:"indigo lighten-4"},on:{click:t.close}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-close")]),i("span",[t._v(t._s(t.$t("common:actions.cancel")))])],1)],1),i("v-row",{staticClass:"indigo darken-1 body-2",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pa-4"},[i("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("mdi-alpha-l-box")]),i("i18next",{staticClass:"white--text",attrs:{tag:"span",path:"editor:conflict.localVersion"}},[i("em",{staticClass:"indigo--text text--lighten-4",attrs:{place:"refEditable"}},[t._v(t._s(t.$t("editor:conflict.editable")))])])],1),i("v-divider",{attrs:{vertical:""}}),i("v-col",{staticClass:"pa-4"},[i("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("mdi-alpha-r-box")]),i("i18next",{staticClass:"white--text",attrs:{tag:"span",path:"editor:conflict.remoteVersion"}},[i("em",{staticClass:"indigo--text text--lighten-4",attrs:{place:"refReadOnly"}},[t._v(t._s(t.$t("editor:conflict.readonly")))])])],1)],1),i("v-row",{staticClass:"grey lighten-2 body-2",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"px-4 py-2"},[i("i18next",{staticClass:"grey--text text--darken-2",attrs:{tag:"em",path:"editor:conflict.leftPanelInfo"}},[i("span",{attrs:{place:"date",title:t.$options.filters.moment(t.checkoutDateActive,"LLL")}},[t._v(t._s(t._f("moment")(t.checkoutDateActive,"from")))])])],1),i("v-divider",{attrs:{vertical:""}}),i("v-col",{staticClass:"px-4 py-2"},[i("i18next",{staticClass:"grey--text text--darken-2",attrs:{tag:"em",path:"editor:conflict.rightPanelInfo"}},[i("strong",{attrs:{place:"authorName"}},[t._v(t._s(t.latest.authorName))]),i("span",{attrs:{place:"date",title:t.$options.filters.moment(t.latest.updatedAt,"LLL")}},[t._v(t._s(t._f("moment")(t.latest.updatedAt,"from")))])])],1)],1),i("v-row",{staticClass:"grey lighten-3 grey--text text--darken-3",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pa-4"},[i("div",{staticClass:"body-2"},[i("strong",{staticClass:"indigo--text"},[t._v(t._s(t.$t("editor:conflict.pageTitle")))]),i("strong",{staticClass:"pl-2"},[t._v(t._s(t.title))])]),i("div",{staticClass:"caption"},[i("strong",{staticClass:"indigo--text"},[t._v(t._s(t.$t("editor:conflict.pageDescription")))]),i("span",{staticClass:"pl-2"},[t._v(t._s(t.description))])])]),i("v-divider",{attrs:{vertical:"",light:""}}),i("v-col",{staticClass:"pa-4"},[i("div",{staticClass:"body-2"},[i("strong",{staticClass:"indigo--text"},[t._v(t._s(t.$t("editor:conflict.pageTitle")))]),i("strong",{staticClass:"pl-2"},[t._v(t._s(t.latest.title))])]),i("div",{staticClass:"caption"},[i("strong",{staticClass:"indigo--text"},[t._v(t._s(t.$t("editor:conflict.pageDescription")))]),i("span",{staticClass:"pl-2"},[t._v(t._s(t.latest.description))])])])],1),i("v-card",{staticClass:"radius-7",attrs:{light:!t.$vuetify.theme.dark,dark:t.$vuetify.theme.dark}},[i("div",{ref:"cm"})])],1)])};n._withStripped=!0;var r=i("./node_modules/lodash/get.js"),o=i.n(r),s=i("./node_modules/vuex-pathify/dist/vuex-pathify.js"),a=(i("./client/libs/codemirror-merge/diff-match-patch.js"),i("./node_modules/codemirror/lib/codemirror.js")),l=i.n(a);i("./node_modules/codemirror/lib/codemirror.css"),i("./node_modules/codemirror/mode/markdown/markdown.js"),i("./node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),i("./node_modules/codemirror/addon/selection/active-line.js"),i("./node_modules/codemirror/addon/merge/merge.js"),i("./node_modules/codemirror/addon/merge/merge.css");function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return e};var t,e={},i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function h(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,i){return t[e]=i}}function f(t,e,i,n){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),a=new T(n||[]);return r(s,"_invoke",{value:M(t,i,a)}),s}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var u="suspendedStart",g="executing",p="completed",m={};function v(){}function _(){}function b(){}var y={};h(y,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(E([])));k&&k!==i&&n.call(k,s)&&(y=k);var x=b.prototype=v.prototype=Object.create(y);function C(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function D(t,e){function i(r,o,s,a){var l=d(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function M(e,i,n){var r=u;return function(o,s){if(r===g)throw Error("Generator is already running");if(r===p){if("throw"===o)throw s;return{value:t,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var l=j(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=g;var c=d(e,i,n);if("normal"===c.type){if(r=n.done?p:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function j(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=t,j(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,m;var s=o.arg;return s?s.done?(i[e.resultName]=s.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,m):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function E(e){if(e||""===e){var i=e[s];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return _.prototype=b,r(x,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:_,configurable:!0}),_.displayName=h(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,h(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},C(D.prototype),h(D.prototype,a,(function(){return this})),e.AsyncIterator=D,e.async=function(t,i,n,r,o){void 0===o&&(o=Promise);var s=new D(f(t,i,n,r),o);return e.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(x),h(x,l,"Generator"),h(x,s,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return a.type="throw",a.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;L(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:E(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function h(t,e,i,n,r,o,s){try{var a=t[o](s),l=a.value}catch(t){return void i(t)}a.done?e(l):Promise.resolve(l).then(n,r)}var f={data:function(){return{cm:null,latest:{title:"",description:"",updatedAt:"",authorName:""},isRemoteConfirmDiagShown:!1}},computed:{editorKey:Object(s.get)("editor/editorKey"),activeModal:Object(s.sync)("editor/activeModal"),pageId:Object(s.get)("page/id"),title:Object(s.get)("page/title"),description:Object(s.get)("page/description"),updatedAt:Object(s.get)("page/updatedAt"),checkoutDateActive:Object(s.sync)("editor/checkoutDateActive")},methods:{close:function(){this.isRemoteConfirmDiagShown=!1,this.activeModal=""},overwriteAndClose:function(){this.checkoutDateActive=this.latest.updatedAt,this.$root.$emit("overwriteEditorContent"),this.$root.$emit("resetEditorConflict"),this.close()},useLocal:function(){this.$store.set("editor/content",this.cm.edit.getValue()),this.overwriteAndClose()},useRemote:function(){this.$store.set("editor/content",this.latest.content),this.overwriteAndClose()}},mounted:function(){var t,e=this;return(t=c().mark((function t(){var i,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i="text/html",t.t0=e.editorKey,t.next="markdown"===t.t0?4:6;break;case 4:return i="text/markdown",t.abrupt("break",6);case 6:return t.next=8,e.$apollo.query({query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"conflictLatest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:393,source:{body:"\n        query ($id: Int!) {\n          pages {\n            conflictLatest(id: $id) {\n              id\n              authorId\n              authorName\n              content\n              createdAt\n              description\n              isPublished\n              locale\n              path\n              tags\n              title\n              updatedAt\n            }\n          }\n        }\n      ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},fetchPolicy:"network-only",variables:{id:e.$store.get("page/id")}});case 8:if(n=t.sent,n=o()(n,"data.pages.conflictLatest",!1)){t.next=12;break}return t.abrupt("return",e.$store.commit("showNotification",{message:"Failed to fetch latest version.",style:"warning",icon:"warning"}));case 12:e.latest=n,e.cm=l.a.MergeView(e.$refs.cm,{value:e.$store.get("editor/content"),orig:n.content,tabSize:2,mode:i,lineNumbers:!0,lineWrapping:!0,connect:null,highlightDifferences:!0,styleActiveLine:!0,collapseIdentical:!0,direction:siteConfig.rtl?"rtl":"ltr"}),e.cm.rightOriginal().setSize(null,"calc(100vh - 265px)"),e.cm.editor().setSize(null,"calc(100vh - 265px)"),e.cm.wrap.style.height="calc(100vh - 265px)";case 17:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function s(t){h(o,n,r,s,a,"next",t)}function a(t){h(o,n,r,s,a,"throw",t)}s(void 0)}))})()}},d=(i("./client/components/editor/editor-modal-conflict.vue?vue&type=style&index=0&lang=scss&"),i("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),u=i("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),g=i.n(u),p=i("./node_modules/vuetify/lib/components/VBtn/VBtn.js"),m=i("./node_modules/vuetify/lib/components/VCard/VCard.js"),v=i("./node_modules/vuetify/lib/components/VCard/index.js"),_=i("./node_modules/vuetify/lib/components/VGrid/VCol.js"),b=i("./node_modules/vuetify/lib/components/VDialog/VDialog.js"),y=i("./node_modules/vuetify/lib/components/VDivider/VDivider.js"),w=i("./node_modules/vuetify/lib/components/VIcon/VIcon.js"),k=i("./node_modules/vuetify/lib/components/VGrid/VRow.js"),x=i("./node_modules/vuetify/lib/components/VGrid/VSpacer.js"),C=i("./node_modules/vuetify/lib/components/VToolbar/VToolbar.js"),D=Object(d.a)(f,n,[],!1,null,null,null);g()(D,{VBtn:p.a,VCard:m.a,VCardText:v.b,VCol:_.a,VDialog:b.a,VDivider:y.a,VIcon:w.a,VRow:k.a,VSpacer:x.a,VToolbar:C.a}),D.options.__file="client/components/editor/editor-modal-conflict.vue";e.default=D.exports},"./client/components/editor/editor-modal-conflict.vue?vue&type=style&index=0&lang=scss&":function(t,e,i){"use strict";i("./node_modules/cache-loader/dist/cjs.js?!./node_modules/style-loader/dist/cjs.js!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/editor/editor-modal-conflict.vue?vue&type=style&index=0&lang=scss&")},"./client/libs/codemirror-merge/diff-match-patch.js":function(t,e){var i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};(i.Diff=function(t,e){this[0]=t,this[1]=e}).prototype.length=2,i.Diff.prototype.toString=function(){return this[0]+","+this[1]},i.prototype.diff_main=function(t,e,n,r){if(void 0===r&&(r=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[new i.Diff(0,t)]:[];void 0===n&&(n=!0);var o=n,s=this.diff_commonPrefix(t,e);n=t.substring(0,s),t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var a=t.substring(t.length-s);return t=t.substring(0,t.length-s),e=e.substring(0,e.length-s),t=this.diff_compute_(t,e,o,r),n&&t.unshift(new i.Diff(0,n)),a&&t.push(new i.Diff(0,a)),this.diff_cleanupMerge(t),t},i.prototype.diff_compute_=function(t,e,n,r){if(!t)return[new i.Diff(1,e)];if(!e)return[new i.Diff(-1,t)];var o=t.length>e.length?t:e,s=t.length>e.length?e:t,a=o.indexOf(s);return-1!=a?(n=[new i.Diff(1,o.substring(0,a)),new i.Diff(0,s),new i.Diff(1,o.substring(a+s.length))],t.length>e.length&&(n[0][0]=n[2][0]=-1),n):1==s.length?[new i.Diff(-1,t),new i.Diff(1,e)]:(o=this.diff_halfMatch_(t,e))?(e=o[1],s=o[3],t=o[4],o=this.diff_main(o[0],o[2],n,r),n=this.diff_main(e,s,n,r),o.concat([new i.Diff(0,t)],n)):n&&100<t.length&&100<e.length?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},i.prototype.diff_lineMode_=function(t,e,n){var r=this.diff_linesToChars_(t,e);t=r.chars1,e=r.chars2,r=r.lineArray,t=this.diff_main(t,e,!1,n),this.diff_charsToLines_(t,r),this.diff_cleanupSemantic(t),t.push(new i.Diff(0,""));for(var o=r=e=0,s="",a="";e<t.length;){switch(t[e][0]){case 1:o++,a+=t[e][1];break;case-1:r++,s+=t[e][1];break;case 0:if(1<=r&&1<=o){for(t.splice(e-r-o,r+o),e=e-r-o,o=(r=this.diff_main(s,a,!1,n)).length-1;0<=o;o--)t.splice(e,0,r[o]);e+=r.length}r=o=0,a=s=""}e++}return t.pop(),t},i.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,o=e.length,s=Math.ceil((r+o)/2),a=2*s,l=Array(a),c=Array(a),h=0;h<a;h++)l[h]=-1,c[h]=-1;l[s+1]=0,c[s+1]=0;for(var f=0!=(h=r-o)%2,d=0,u=0,g=0,p=0,m=0;m<s&&!((new Date).getTime()>n);m++){for(var v=-m+d;v<=m-u;v+=2){for(var _=s+v,b=v==-m||v!=m&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1,y=b-v;b<r&&y<o&&t.charAt(b)==e.charAt(y);)b++,y++;if(l[_]=b,b>r)u+=2;else if(y>o)d+=2;else if(f&&(0<=(_=s+h-v)&&_<a&&-1!=c[_])){var w=r-c[_];if(b>=w)return this.diff_bisectSplit_(t,e,b,y,n)}}for(v=-m+g;v<=m-p;v+=2){for(_=s+v,b=(w=v==-m||v!=m&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-v;w<r&&b<o&&t.charAt(r-w-1)==e.charAt(o-b-1);)w++,b++;if(c[_]=w,w>r)p+=2;else if(b>o)g+=2;else if(!f&&(0<=(_=s+h-v)&&_<a&&-1!=l[_]&&(y=s+(b=l[_])-_,b>=(w=r-w))))return this.diff_bisectSplit_(t,e,b,y,n)}}return[new i.Diff(-1,t),new i.Diff(1,e)]},i.prototype.diff_bisectSplit_=function(t,e,i,n,r){var o=t.substring(0,i),s=e.substring(0,n);return t=t.substring(i),e=e.substring(n),o=this.diff_main(o,s,!1,r),r=this.diff_main(t,e,!1,r),o.concat(r)},i.prototype.diff_linesToChars_=function(t,e){function i(t){for(var e="",i=0,s=-1,a=n.length;s<t.length-1;){-1==(s=t.indexOf("\n",i))&&(s=t.length-1);var l=t.substring(i,s+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?e+=String.fromCharCode(r[l]):(a==o&&(l=t.substring(i),s=t.length),e+=String.fromCharCode(a),r[l]=a,n[a++]=l),i=s+1}return e}var n=[],r={};n[0]="";var o=4e4,s=i(t);return o=65535,{chars1:s,chars2:i(e),lineArray:n}},i.prototype.diff_charsToLines_=function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i][1],r=[],o=0;o<n.length;o++)r[o]=e[n.charCodeAt(o)];t[i][1]=r.join("")}},i.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,o=0;i<r;)t.substring(o,r)==e.substring(o,r)?o=i=r:n=r,r=Math.floor((n-i)/2+i);return r},i.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,o=0;i<r;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?o=i=r:n=r,r=Math.floor((n-i)/2+i);return r},i.prototype.diff_commonOverlap_=function(t,e){var i=t.length,n=e.length;if(0==i||0==n)return 0;if(i>n?t=t.substring(i-n):i<n&&(e=e.substring(0,i)),i=Math.min(i,n),t==e)return i;n=0;for(var r=1;;){var o=t.substring(i-r);if(-1==(o=e.indexOf(o)))return n;r+=o,0!=o&&t.substring(i-r)!=e.substring(0,r)||(n=r,r++)}},i.prototype.diff_halfMatch_=function(t,e){function i(t,e,i){for(var n,r,s,a,l=t.substring(i,i+Math.floor(t.length/4)),c=-1,h="";-1!=(c=e.indexOf(l,c+1));){var f=o.diff_commonPrefix(t.substring(i),e.substring(c)),d=o.diff_commonSuffix(t.substring(0,i),e.substring(0,c));h.length<d+f&&(h=e.substring(c-d,c)+e.substring(c,c+f),n=t.substring(0,i-d),r=t.substring(i+f),s=e.substring(0,c-d),a=e.substring(c+f))}return 2*h.length>=t.length?[n,r,s,a,h]:null}if(0>=this.Diff_Timeout)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(4>n.length||2*r.length<n.length)return null;var o=this,s=i(n,r,Math.ceil(n.length/4));if(n=i(n,r,Math.ceil(n.length/2)),!s&&!n)return null;if(s=n?s&&s[4].length>n[4].length?s:n:s,t.length>e.length){n=s[0],r=s[1];var a=s[2],l=s[3]}else a=s[0],l=s[1],n=s[2],r=s[3];return[n,r,a,l,s[4]]},i.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,o=null,s=0,a=0,l=0,c=0,h=0;s<t.length;)0==t[s][0]?(n[r++]=s,a=c,l=h,h=c=0,o=t[s][1]):(1==t[s][0]?c+=t[s][1].length:h+=t[s][1].length,o&&o.length<=Math.max(a,l)&&o.length<=Math.max(c,h)&&(t.splice(n[r-1],0,new i.Diff(-1,o)),t[n[r-1]+1][0]=1,r--,s=0<--r?n[r-1]:-1,h=c=l=a=0,o=null,e=!0)),s++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),s=1;s<t.length;)-1==t[s-1][0]&&1==t[s][0]&&(e=t[s-1][1],n=t[s][1],(r=this.diff_commonOverlap_(e,n))>=(o=this.diff_commonOverlap_(n,e))?(r>=e.length/2||r>=n.length/2)&&(t.splice(s,0,new i.Diff(0,n.substring(0,r))),t[s-1][1]=e.substring(0,e.length-r),t[s+1][1]=n.substring(r),s++):(o>=e.length/2||o>=n.length/2)&&(t.splice(s,0,new i.Diff(0,e.substring(0,o))),t[s-1][0]=1,t[s-1][1]=n.substring(0,n.length-o),t[s+1][0]=-1,t[s+1][1]=e.substring(o),s++),s++),s++},i.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),r=e.charAt(0),o=n.match(i.nonAlphaNumericRegex_),s=r.match(i.nonAlphaNumericRegex_),a=o&&n.match(i.whitespaceRegex_),l=s&&r.match(i.whitespaceRegex_);n=a&&n.match(i.linebreakRegex_),r=l&&r.match(i.linebreakRegex_);var c=n&&t.match(i.blanklineEndRegex_),h=r&&e.match(i.blanklineStartRegex_);return c||h?5:n||r?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var n=1;n<t.length-1;){if(0==t[n-1][0]&&0==t[n+1][0]){var r=t[n-1][1],o=t[n][1],s=t[n+1][1],a=this.diff_commonSuffix(r,o);if(a){var l=o.substring(o.length-a);r=r.substring(0,r.length-a),o=l+o.substring(0,o.length-a),s=l+s}a=r,l=o;for(var c=s,h=e(r,o)+e(o,s);o.charAt(0)===s.charAt(0);){r+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var f=e(r,o)+e(o,s);f>=h&&(h=f,a=r,l=o,c=s)}t[n-1][1]!=a&&(a?t[n-1][1]=a:(t.splice(n-1,1),n--),t[n][1]=l,c?t[n+1][1]=c:(t.splice(n+1,1),n--))}n++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,o=null,s=0,a=!1,l=!1,c=!1,h=!1;s<t.length;)0==t[s][0]?(t[s][1].length<this.Diff_EditCost&&(c||h)?(n[r++]=s,a=c,l=h,o=t[s][1]):(r=0,o=null),c=h=!1):(-1==t[s][0]?h=!0:c=!0,o&&(a&&l&&c&&h||o.length<this.Diff_EditCost/2&&3==a+l+c+h)&&(t.splice(n[r-1],0,new i.Diff(-1,o)),t[n[r-1]+1][0]=1,r--,o=null,a&&l?(c=h=!0,r=0):(s=0<--r?n[r-1]:-1,c=h=!1),e=!0)),s++;e&&this.diff_cleanupMerge(t)},i.prototype.diff_cleanupMerge=function(t){t.push(new i.Diff(0,""));for(var e,n=0,r=0,o=0,s="",a="";n<t.length;)switch(t[n][0]){case 1:o++,a+=t[n][1],n++;break;case-1:r++,s+=t[n][1],n++;break;case 0:1<r+o?(0!==r&&0!==o&&(0!==(e=this.diff_commonPrefix(a,s))&&(0<n-r-o&&0==t[n-r-o-1][0]?t[n-r-o-1][1]+=a.substring(0,e):(t.splice(0,0,new i.Diff(0,a.substring(0,e))),n++),a=a.substring(e),s=s.substring(e)),0!==(e=this.diff_commonSuffix(a,s))&&(t[n][1]=a.substring(a.length-e)+t[n][1],a=a.substring(0,a.length-e),s=s.substring(0,s.length-e))),n-=r+o,t.splice(n,r+o),s.length&&(t.splice(n,0,new i.Diff(-1,s)),n++),a.length&&(t.splice(n,0,new i.Diff(1,a)),n++),n++):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,r=o=0,a=s=""}for(""===t[t.length-1][1]&&t.pop(),r=!1,n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),r=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),r=!0)),n++;r&&this.diff_cleanupMerge(t)},i.prototype.diff_xIndex=function(t,e){var i,n=0,r=0,o=0,s=0;for(i=0;i<t.length&&(1!==t[i][0]&&(n+=t[i][1].length),-1!==t[i][0]&&(r+=t[i][1].length),!(n>e));i++)o=n,s=r;return t.length!=i&&-1===t[i][0]?s:s+(e-o)},i.prototype.diff_prettyHtml=function(t){for(var e=[],i=/&/g,n=/</g,r=/>/g,o=/\n/g,s=0;s<t.length;s++){var a=t[s][0],l=t[s][1].replace(i,"&amp;").replace(n,"&lt;").replace(r,"&gt;").replace(o,"&para;<br>");switch(a){case 1:e[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:e[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:e[s]="<span>"+l+"</span>"}}return e.join("")},i.prototype.diff_text1=function(t){for(var e=[],i=0;i<t.length;i++)1!==t[i][0]&&(e[i]=t[i][1]);return e.join("")},i.prototype.diff_text2=function(t){for(var e=[],i=0;i<t.length;i++)-1!==t[i][0]&&(e[i]=t[i][1]);return e.join("")},i.prototype.diff_levenshtein=function(t){for(var e=0,i=0,n=0,r=0;r<t.length;r++){var o=t[r][1];switch(t[r][0]){case 1:i+=o.length;break;case-1:n+=o.length;break;case 0:e+=Math.max(i,n),n=i=0}}return e+Math.max(i,n)},i.prototype.diff_toDelta=function(t){for(var e=[],i=0;i<t.length;i++)switch(t[i][0]){case 1:e[i]="+"+encodeURI(t[i][1]);break;case-1:e[i]="-"+t[i][1].length;break;case 0:e[i]="="+t[i][1].length}return e.join("\t").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,o=0,s=e.split(/\t/g),a=0;a<s.length;a++){var l=s[a].substring(1);switch(s[a].charAt(0)){case"+":try{n[r++]=new i.Diff(1,decodeURI(l))}catch(t){throw Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||0>c)throw Error("Invalid number in diff_fromDelta: "+l);l=t.substring(o,o+=c),"="==s[a].charAt(0)?n[r++]=new i.Diff(0,l):n[r++]=new i.Diff(-1,l);break;default:if(s[a])throw Error("Invalid diff operation in diff_fromDelta: "+s[a])}}if(o!=t.length)throw Error("Delta length ("+o+") does not equal source text length ("+t.length+").");return n},i.prototype.match_main=function(t,e,i){if(null==t||null==e||null==i)throw Error("Null input. (match_main)");return i=Math.max(0,Math.min(i,t.length)),t==e?0:t.length?t.substring(i,i+e.length)==e?i:this.match_bitap_(t,e,i):-1},i.prototype.match_bitap_=function(t,e,i){function n(t,n){var r=t/e.length,s=Math.abs(i-n);return o.Match_Distance?r+s/o.Match_Distance:s?1:r}if(e.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),o=this,s=this.Match_Threshold,a=t.indexOf(e,i);-1!=a&&(s=Math.min(n(0,a),s),-1!=(a=t.lastIndexOf(e,i+e.length))&&(s=Math.min(n(0,a),s)));var l=1<<e.length-1;a=-1;for(var c,h,f,d=e.length+t.length,u=0;u<e.length;u++){for(c=0,h=d;c<h;)n(u,i+h)<=s?c=h:d=h,h=Math.floor((d-c)/2+c);d=h,c=Math.max(1,i-h+1);var g=Math.min(i+h,t.length)+e.length;for((h=Array(g+2))[g+1]=(1<<u)-1;g>=c;g--){var p=r[t.charAt(g-1)];if(h[g]=0===u?(h[g+1]<<1|1)&p:(h[g+1]<<1|1)&p|(f[g+1]|f[g])<<1|1|f[g+1],h[g]&l&&(p=n(u,g-1))<=s){if(s=p,!((a=g-1)>i))break;c=Math.max(1,2*i-a)}}if(n(u+1,i)>s)break;f=h}return a},i.prototype.match_alphabet_=function(t){for(var e={},i=0;i<t.length;i++)e[t.charAt(i)]=0;for(i=0;i<t.length;i++)e[t.charAt(i)]|=1<<t.length-i-1;return e},i.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin,(n=e.substring(t.start2-r,t.start2))&&t.diffs.unshift(new i.Diff(0,n)),(r=e.substring(t.start2+t.length1,t.start2+t.length1+r))&&t.diffs.push(new i.Diff(0,r)),t.start1-=n.length,t.start2-=n.length,t.length1+=n.length+r.length,t.length2+=n.length+r.length}},i.prototype.patch_make=function(t,e,n){if("string"==typeof t&&"string"==typeof e&&void 0===n){var r=t;2<(e=this.diff_main(r,e,!0)).length&&(this.diff_cleanupSemantic(e),this.diff_cleanupEfficiency(e))}else if(t&&"object"==typeof t&&void 0===e&&void 0===n)e=t,r=this.diff_text1(e);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===n)r=t;else{if("string"!=typeof t||"string"!=typeof e||!n||"object"!=typeof n)throw Error("Unknown call format to patch_make.");r=t,e=n}if(0===e.length)return[];n=[],t=new i.patch_obj;for(var o=0,s=0,a=0,l=r,c=0;c<e.length;c++){var h=e[c][0],f=e[c][1];switch(o||0===h||(t.start1=s,t.start2=a),h){case 1:t.diffs[o++]=e[c],t.length2+=f.length,r=r.substring(0,a)+f+r.substring(a);break;case-1:t.length1+=f.length,t.diffs[o++]=e[c],r=r.substring(0,a)+r.substring(a+f.length);break;case 0:f.length<=2*this.Patch_Margin&&o&&e.length!=c+1?(t.diffs[o++]=e[c],t.length1+=f.length,t.length2+=f.length):f.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(t,l),n.push(t),t=new i.patch_obj,o=0,l=r,s=a)}1!==h&&(s+=f.length),-1!==h&&(a+=f.length)}return o&&(this.patch_addContext_(t,l),n.push(t)),n},i.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=new i.patch_obj;o.diffs=[];for(var s=0;s<r.diffs.length;s++)o.diffs[s]=new i.Diff(r.diffs[s][0],r.diffs[s][1]);o.start1=r.start1,o.start2=r.start2,o.length1=r.length1,o.length2=r.length2,e[n]=o}return e},i.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var i=this.patch_addPadding(t);e=i+e+i,this.patch_splitMax(t);for(var n=0,r=[],o=0;o<t.length;o++){var s=t[o].start2+n,a=this.diff_text1(t[o].diffs),l=-1;if(a.length>this.Match_MaxBits){var c=this.match_main(e,a.substring(0,this.Match_MaxBits),s);-1!=c&&(-1==(l=this.match_main(e,a.substring(a.length-this.Match_MaxBits),s+a.length-this.Match_MaxBits))||c>=l)&&(c=-1)}else c=this.match_main(e,a,s);if(-1==c)r[o]=!1,n-=t[o].length2-t[o].length1;else if(r[o]=!0,n=c-s,a==(s=-1==l?e.substring(c,c+a.length):e.substring(c,l+this.Match_MaxBits)))e=e.substring(0,c)+this.diff_text2(t[o].diffs)+e.substring(c+a.length);else if(s=this.diff_main(a,s,!1),a.length>this.Match_MaxBits&&this.diff_levenshtein(s)/a.length>this.Patch_DeleteThreshold)r[o]=!1;else{var h;for(this.diff_cleanupSemanticLossless(s),a=0,l=0;l<t[o].diffs.length;l++){var f=t[o].diffs[l];0!==f[0]&&(h=this.diff_xIndex(s,a)),1===f[0]?e=e.substring(0,c+h)+f[1]+e.substring(c+h):-1===f[0]&&(e=e.substring(0,c+h)+e.substring(c+this.diff_xIndex(s,a+f[1].length))),-1!==f[0]&&(a+=f[1].length)}}}return[e=e.substring(i.length,e.length-i.length),r]},i.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var o=(r=t[0]).diffs;if(0==o.length||0!=o[0][0])o.unshift(new i.Diff(0,n)),r.start1-=e,r.start2-=e,r.length1+=e,r.length2+=e;else if(e>o[0][1].length){var s=e-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],r.start1-=s,r.start2-=s,r.length1+=s,r.length2+=s}return 0==(o=(r=t[t.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push(new i.Diff(0,n)),r.length1+=e,r.length2+=e):e>o[o.length-1][1].length&&(s=e-o[o.length-1][1].length,o[o.length-1][1]+=n.substring(0,s),r.length1+=s,r.length2+=s),n},i.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=e)){var r=t[n];t.splice(n--,1);for(var o=r.start1,s=r.start2,a="";0!==r.diffs.length;){var l=new i.patch_obj,c=!0;for(l.start1=o-a.length,l.start2=s-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push(new i.Diff(0,a)));0!==r.diffs.length&&l.length1<e-this.Patch_Margin;){a=r.diffs[0][0];var h=r.diffs[0][1];1===a?(l.length2+=h.length,s+=h.length,l.diffs.push(r.diffs.shift()),c=!1):-1===a&&1==l.diffs.length&&0==l.diffs[0][0]&&h.length>2*e?(l.length1+=h.length,o+=h.length,c=!1,l.diffs.push(new i.Diff(a,h)),r.diffs.shift()):(h=h.substring(0,e-l.length1-this.Patch_Margin),l.length1+=h.length,o+=h.length,0===a?(l.length2+=h.length,s+=h.length):c=!1,l.diffs.push(new i.Diff(a,h)),h==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(h.length))}a=(a=this.diff_text2(l.diffs)).substring(a.length-this.Patch_Margin),""!==(h=this.diff_text1(r.diffs).substring(0,this.Patch_Margin))&&(l.length1+=h.length,l.length2+=h.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=h:l.diffs.push(new i.Diff(0,h))),c||t.splice(++n,0,l)}}},i.prototype.patch_toText=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e.join("")},i.prototype.patch_fromText=function(t){var e=[];if(!t)return e;t=t.split("\n");for(var n=0,r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;n<t.length;){var o=t[n].match(r);if(!o)throw Error("Invalid patch string: "+t[n]);var s=new i.patch_obj;for(e.push(s),s.start1=parseInt(o[1],10),""===o[2]?(s.start1--,s.length1=1):"0"==o[2]?s.length1=0:(s.start1--,s.length1=parseInt(o[2],10)),s.start2=parseInt(o[3],10),""===o[4]?(s.start2--,s.length2=1):"0"==o[4]?s.length2=0:(s.start2--,s.length2=parseInt(o[4],10)),n++;n<t.length;){o=t[n].charAt(0);try{var a=decodeURI(t[n].substring(1))}catch(t){throw Error("Illegal escape in patch_fromText: "+a)}if("-"==o)s.diffs.push(new i.Diff(-1,a));else if("+"==o)s.diffs.push(new i.Diff(1,a));else if(" "==o)s.diffs.push(new i.Diff(0,a));else{if("@"==o)break;if(""!==o)throw Error('Invalid patch mode "'+o+'" in: '+a)}n++}}return e},(i.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0}).prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[i+1]=t+encodeURI(this.diffs[i][1])+"\n"}return e.join("").replace(/%20/g," ")},this.diff_match_patch=i,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0,window.diff_match_patch=i,window.DIFF_INSERT=1,window.DIFF_DELETE=-1,window.DIFF_EQUAL=0},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/style-loader/dist/cjs.js!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/editor/editor-modal-conflict.vue?vue&type=style&index=0&lang=scss&":function(t,e,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/editor/editor-modal-conflict.vue?vue&type=style&index=0&lang=scss&");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);t.exports=r.locals||{}},"./node_modules/codemirror/addon/merge/merge.css":function(t,e,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/codemirror/addon/merge/merge.css");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);t.exports=r.locals||{}},"./node_modules/codemirror/addon/merge/merge.js":function(t,e,i){!function(t){"use strict";var e=t.Pos,i="http://www.w3.org/2000/svg";function n(t,e){this.mv=t,this.type=e,this.classes="left"==e?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}function r(e){e.diffOutOfDate&&(e.diff=j(e.orig.getValue(),e.edit.getValue(),e.mv.options.ignoreWhitespace),e.chunks=S(e.diff),e.diffOutOfDate=!1,t.signal(e.edit,"updateDiff",e.diff))}n.prototype={constructor:n,init:function(e,i,n){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=t(e,V({value:i,readOnly:!this.mv.options.allowEditingOriginals},V(n))),"align"==this.mv.options.connect&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new R(this.edit)),this.orig.state.trackAlignable=new R(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.orig.state.diffViews=[this];var r=n.chunkClassLocation||"background";"[object Array]"!=Object.prototype.toString.call(r)&&(r=[r]),this.classes.classLocation=r,this.diff=j(M(i),M(n.value),this.mv.options.ignoreWhitespace),this.chunks=S(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=!1!==n.showDifferences},registerEvents:function(e){this.forceUpdate=function(e){var i,n={from:0,to:0,marked:[]},a={from:0,to:0,marked:[]},l=!1;function c(t){o=!0,l=!1,"full"==t&&(e.svg&&O(e.svg),e.copyButtons&&O(e.copyButtons),h(e.edit,n.marked,e.classes),h(e.orig,a.marked,e.classes),n.from=n.to=a.from=a.to=0),r(e),e.showDifferences&&(f(e.edit,e.diff,n,DIFF_INSERT,e.classes),f(e.orig,e.diff,a,DIFF_DELETE,e.classes)),"align"==e.mv.options.connect&&_(e),g(e),null!=e.needsScrollSync&&s(e,e.needsScrollSync),o=!1}function d(t){o||(e.dealigned=!0,u(t))}function u(t){o||l||(clearTimeout(i),!0===t&&(l=!0),i=setTimeout(c,!0===t?20:250))}function p(t,i){e.diffOutOfDate||(e.diffOutOfDate=!0,n.from=n.to=a.from=a.to=0),d(i.text.length-1!=i.to.line-i.from.line)}function m(){e.diffOutOfDate=!0,e.dealigned=!0,c("full")}return e.edit.on("change",p),e.orig.on("change",p),e.edit.on("swapDoc",m),e.orig.on("swapDoc",m),"align"==e.mv.options.connect&&(t.on(e.edit.state.trackAlignable,"realign",d),t.on(e.orig.state.trackAlignable,"realign",d)),e.edit.on("viewportChange",(function(){u(!1)})),e.orig.on("viewportChange",(function(){u(!1)})),c(),c}(this),l(this,!0,!1),function(t,e){t.edit.on("scroll",(function(){s(t,!0)&&g(t)})),t.orig.on("scroll",(function(){s(t,!1)&&g(t),e&&s(e,!0)&&g(e)}))}(this,e)},setShowDifferences:function(t){(t=!1!==t)!=this.showDifferences&&(this.showDifferences=t,this.forceUpdate("full"))}};var o=!1;function s(t,e){if(t.diffOutOfDate)return t.lockScroll&&null==t.needsScrollSync&&(t.needsScrollSync=e),!1;if(t.needsScrollSync=null,!t.lockScroll)return!0;var i,n,r=+new Date;if(e?(i=t.edit,n=t.orig):(i=t.orig,n=t.edit),i.state.scrollSetBy==t&&(i.state.scrollSetAt||0)+250>r)return!1;var o=i.getScrollInfo();if("align"==t.mv.options.connect)m=o.top;else{var s,l,c=.5*o.clientHeight,h=o.top+c,f=i.lineAtHeight(h,"local"),d=function(t,e,i){for(var n,r,o,s,a=0;a<t.length;a++){var l=t[a],c=i?l.editFrom:l.origFrom,h=i?l.editTo:l.origTo;null==r&&(c>e?(r=l.editFrom,s=l.origFrom):h>e&&(r=l.editTo,s=l.origTo)),h<=e?(n=l.editTo,o=l.origTo):c<=e&&(n=l.editFrom,o=l.origFrom)}return{edit:{before:n,after:r},orig:{before:o,after:s}}}(t.chunks,f,e),u=a(i,e?d.edit:d.orig),g=a(n,e?d.orig:d.edit),p=(h-u.top)/(u.bot-u.top),m=g.top-c+p*(g.bot-g.top);if(m>o.top&&(l=o.top/c)<1)m=m*l+o.top*(1-l);else if((s=o.height-o.clientHeight-o.top)<c){var v=n.getScrollInfo();v.height-v.clientHeight-m>s&&(l=s/c)<1&&(m=m*l+(v.height-v.clientHeight-s)*(1-l))}}return n.scrollTo(o.left,m),n.state.scrollSetAt=r,n.state.scrollSetBy=t,!0}function a(t,e){var i=e.after;return null==i&&(i=t.lastLine()+1),{top:t.heightAtLine(e.before||0,"local"),bot:t.heightAtLine(i,"local")}}function l(e,i,n){e.lockScroll=i,i&&0!=n&&s(e,DIFF_INSERT)&&g(e),(i?t.addClass:t.rmClass)(e.lockButton,"CodeMirror-merge-scrolllock-enabled")}function c(t,e,i){for(var n=i.classLocation,r=0;r<n.length;r++)t.removeLineClass(e,n[r],i.chunk),t.removeLineClass(e,n[r],i.start),t.removeLineClass(e,n[r],i.end)}function h(e,i,n){for(var r=0;r<i.length;++r){var o=i[r];o instanceof t.TextMarker?o.clear():o.parent&&c(e,o,n)}i.length=0}function f(t,e,i,n,r){var o=t.getViewport();t.operation((function(){i.from==i.to||o.from-i.to>20||i.from-o.to>20?(h(t,i.marked,r),u(t,e,n,i.marked,o.from,o.to,r),i.from=o.from,i.to=o.to):(o.from<i.from&&(u(t,e,n,i.marked,o.from,i.from,r),i.from=o.from),o.to>i.to&&(u(t,e,n,i.marked,i.to,o.to,r),i.to=o.to))}))}function d(t,e,i,n,r,o){for(var s=i.classLocation,a=t.getLineHandle(e),l=0;l<s.length;l++)n&&t.addLineClass(a,s[l],i.chunk),r&&t.addLineClass(a,s[l],i.start),o&&t.addLineClass(a,s[l],i.end);return a}function u(t,i,n,r,o,s,a){var l=e(0,0),c=e(o,0),h=t.clipPos(e(s-1)),f=n==DIFF_DELETE?a.del:a.insert;function u(e,i){for(var n=Math.max(o,e),l=Math.min(s,i),c=n;c<l;++c)r.push(d(t,c,a,!0,c==e,c==i-1));e==i&&n==i&&l==i&&(n?r.push(d(t,n-1,a,!1,!1,!0)):r.push(d(t,n,a,!1,!0,!1)))}for(var g=0,p=!1,m=0;m<i.length;++m){var v=i[m],_=v[0],b=v[1];if(_==DIFF_EQUAL){var y=l.line+(T(i,m)?0:1);P(l,b);var w=l.line+(L(i,m)?1:0);w>y&&(p&&(u(g,y),p=!1),g=w)}else if(p=!0,_==n){var k=P(l,b,!0),x=B(c,l),C=$(h,k);W(x,C)||r.push(t.markText(x,C,{className:f})),l=k}}p&&u(g,l.line+1)}function g(t){if(t.showDifferences){if(t.svg){O(t.svg);var e=t.gap.offsetWidth;N(t.svg,"width",e,"height",t.gap.offsetHeight)}t.copyButtons&&O(t.copyButtons);for(var i=t.edit.getViewport(),n=t.orig.getViewport(),r=t.mv.wrap.getBoundingClientRect().top,o=r-t.edit.getScrollerElement().getBoundingClientRect().top+t.edit.getScrollInfo().top,s=r-t.orig.getScrollerElement().getBoundingClientRect().top+t.orig.getScrollInfo().top,a=0;a<t.chunks.length;a++){var l=t.chunks[a];l.editFrom<=i.to&&l.editTo>=i.from&&l.origFrom<=n.to&&l.origTo>=n.from&&w(t,l,s,o,e)}}}function p(t,e){for(var i=0,n=0,r=0;r<e.length;r++){var o=e[r];if(o.editTo>t&&o.editFrom<=t)return null;if(o.editFrom>t)break;i=o.editTo,n=o.origTo}return n+(t-i)}function m(t,e,i){for(var n=t.state.trackAlignable,r=t.firstLine(),o=0,s=[],a=0;;a++){for(var l=e[a],c=l?i?l.origFrom:l.editFrom:1e9;o<n.alignable.length;o+=2){var h=n.alignable[o]+1;if(!(h<=r)){if(!(h<=c))break;s.push(h)}}if(!l)break;s.push(r=i?l.origTo:l.editTo)}return s}function v(t,e,i,n){var r=0,o=0,s=0,a=0;t:for(;;r++){var l=t[r],c=e[o];if(!l&&null==c)break;for(var h=l?l[0]:1e9,f=null==c?1e9:c;s<i.length;){var d=i[s];if(d.origFrom<=f&&d.origTo>f){o++,r--;continue t}if(d.editTo>h){if(d.editFrom<=h)continue t;break}a+=d.origTo-d.origFrom-(d.editTo-d.editFrom),s++}if(h==f-a)l[n]=f,o++;else if(h<f-a)l[n]=h+a;else{var u=[f-a,null,null];u[n]=f,t.splice(r,0,u),o++}}}function _(t,e){if(t.dealigned||e){if(!t.orig.curOp)return t.orig.operation((function(){_(t,e)}));t.dealigned=!1;var i=t.mv.left==t?t.mv.right:t.mv.left;i&&(r(i),i.dealigned=!1);for(var n=function(t,e){var i=m(t.edit,t.chunks,!1),n=[];if(e)for(var r=0,o=0;r<e.chunks.length;r++){for(var s=e.chunks[r].editTo;o<i.length&&i[o]<s;)o++;o!=i.length&&i[o]==s||i.splice(o++,0,s)}for(r=0;r<i.length;r++)n.push([i[r],null,null]);return v(n,m(t.orig,t.chunks,!0),t.chunks,1),e&&v(n,m(e.orig,e.chunks,!0),e.chunks,2),n}(t,i),o=t.mv.aligners,s=0;s<o.length;s++)o[s].clear();o.length=0;var a=[t.edit,t.orig],l=[],c=[];for(i&&a.push(i.orig),s=0;s<a.length;s++)l.push(a[s].getScrollInfo().top),c.push(-a[s].getScrollerElement().getBoundingClientRect().top);(c[0]!=c[1]||3==a.length&&c[1]!=c[2])&&b(a,c,[0,0,0],o);for(var h=0;h<n.length;h++)b(a,c,n[h],o);for(s=0;s<a.length;s++)a[s].scrollTo(null,l[s])}}function b(t,e,i,n){for(var r=-1e8,o=[],s=0;s<t.length;s++)if(null!=i[s]){var a=t[s].heightAtLine(i[s],"local")-e[s];o[s]=a,r=Math.max(r,a)}for(s=0;s<t.length;s++)if(null!=i[s]){var l=r-o[s];l>1&&n.push(y(t[s],i[s],l))}}function y(t,e,i){var n=!0;e>t.lastLine()&&(e--,n=!1);var r=document.createElement("div");return r.className="CodeMirror-merge-spacer",r.style.height=i+"px",r.style.minWidth="1px",t.addLineWidget(e,r,{height:i,above:n,mergeSpacer:!0,handleMouseEvents:!0})}function w(t,e,n,r,o){var s="left"==t.type,a=t.orig.heightAtLine(e.origFrom,"local",!0)-n;if(t.svg){var l=a,c=t.edit.heightAtLine(e.editFrom,"local",!0)-r;if(s){var h=l;l=c,c=h}var f=t.orig.heightAtLine(e.origTo,"local",!0)-n,d=t.edit.heightAtLine(e.editTo,"local",!0)-r;s&&(h=f,f=d,d=h);var u=" C "+o/2+" "+c+" "+o/2+" "+l+" "+(o+2)+" "+l,g=" C "+o/2+" "+f+" "+o/2+" "+d+" -1 "+d;N(t.svg.appendChild(document.createElementNS(i,"path")),"d","M -1 "+c+u+" L "+(o+2)+" "+f+g+" z","class",t.classes.connect)}if(t.copyButtons){var p=t.copyButtons.appendChild(I("div","left"==t.type?"⇝":"⇜","CodeMirror-merge-copy")),m=t.mv.options.allowEditingOriginals;if(p.title=t.edit.phrase(m?"Push to left":"Revert chunk"),p.chunk=e,p.style.top=(e.origTo>e.origFrom?a:t.edit.heightAtLine(e.editFrom,"local")-r)+"px",m){var v=t.edit.heightAtLine(e.editFrom,"local")-r,_=t.copyButtons.appendChild(I("div","right"==t.type?"⇝":"⇜","CodeMirror-merge-copy-reverse"));_.title="Push to right",_.chunk={editFrom:e.origFrom,editTo:e.origTo,origFrom:e.editFrom,origTo:e.editTo},_.style.top=v+"px","right"==t.type?_.style.left="2px":_.style.right="2px"}}}function k(t,i,n,r){if(!t.diffOutOfDate){var o=r.origTo>n.lastLine()?e(r.origFrom-1):e(r.origFrom,0),s=e(r.origTo,0),a=r.editTo>i.lastLine()?e(r.editFrom-1):e(r.editFrom,0),l=e(r.editTo,0),c=t.mv.options.revertChunk;c?c(t.mv,n,o,s,i,a,l):i.replaceRange(n.getRange(o,s),a,l)}}var x,C=t.MergeView=function(e,i){if(!(this instanceof C))return new C(e,i);this.options=i;var r=i.origLeft,o=null==i.origRight?i.orig:i.origRight,s=null!=r,a=null!=o,l=1+(s?1:0)+(a?1:0),c=[],h=this.left=null,f=this.right=null,d=this;if(s){h=this.left=new n(this,"left");var u=I("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");c.push(u),c.push(D(h))}var m=I("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(c.push(m),a){f=this.right=new n(this,"right"),c.push(D(f));var v=I("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");c.push(v)}(a?v:m).className+=" CodeMirror-merge-pane-rightmost",c.push(I("div",null,null,"height: 0; clear: both;"));var b=this.wrap=e.appendChild(I("div",c,"CodeMirror-merge CodeMirror-merge-"+l+"pane"));this.edit=t(m,V(i)),h&&h.init(u,r,i),f&&f.init(v,o,i),i.collapseIdentical&&this.editor().operation((function(){!function(t,e){"number"!=typeof e&&(e=2);for(var i=[],n=t.editor(),r=n.firstLine(),o=r,s=n.lastLine();o<=s;o++)i.push(!0);t.left&&F(t.left,e,r,i),t.right&&F(t.right,e,r,i);for(var a=0;a<i.length;a++)if(i[a]){for(var l=a+r,c=1;a<i.length-1&&i[a+1];a++,c++);if(c>e){var h=[{line:l,cm:n}];t.left&&h.push({line:p(l,t.left.chunks),cm:t.left.orig}),t.right&&h.push({line:p(l,t.right.chunks),cm:t.right.orig});var f=A(c,h);t.options.onCollapse&&t.options.onCollapse(t,l,c,f)}}}(d,i.collapseIdentical)})),"align"==i.connect&&(this.aligners=[],_(this.left||this.right,!0)),h&&h.registerEvents(f),f&&f.registerEvents(h);var y=function(){h&&g(h),f&&g(f)};t.on(window,"resize",y);var w=setInterval((function(){for(var e=b.parentNode;e&&e!=document.body;e=e.parentNode);e||(clearInterval(w),t.off(window,"resize",y))}),5e3)};function D(e){var n=e.lockButton=I("div",null,"CodeMirror-merge-scrolllock"),r=I("div",[n],"CodeMirror-merge-scrolllock-wrap");t.on(n,"click",(function(){l(e,!e.lockScroll)}));var o=[r];if(!1!==e.mv.options.revertButtons&&(e.copyButtons=I("div",null,"CodeMirror-merge-copybuttons-"+e.type),t.on(e.copyButtons,"click",(function(t){var i=t.target||t.srcElement;i.chunk&&("CodeMirror-merge-copy-reverse"!=i.className?k(e,e.edit,e.orig,i.chunk):k(e,e.orig,e.edit,i.chunk))})),o.unshift(e.copyButtons)),"align"!=e.mv.options.connect){var s=document.createElementNS&&document.createElementNS(i,"svg");s&&!s.createSVGRect&&(s=null),e.svg=s,s&&o.push(s)}return e.gap=I("div",o,"CodeMirror-merge-gap")}function M(t){return"string"==typeof t?t:t.getValue()}function j(t,e,i){x||(x=new diff_match_patch);for(var n=x.diff_main(t,e),r=0;r<n.length;++r){var o=n[r];(i?/[^ \t]/.test(o[1]):o[1])?r&&n[r-1][0]==o[0]&&(n.splice(r--,1),n[r][1]+=o[1]):n.splice(r--,1)}return n}function S(t){var i=[];if(!t.length)return i;for(var n=0,r=0,o=e(0,0),s=e(0,0),a=0;a<t.length;++a){var l=t[a],c=l[0];if(c==DIFF_EQUAL){var h=!T(t,a)||o.line<n||s.line<r?1:0,f=o.line+h,d=s.line+h;P(o,l[1],null,s);var u=L(t,a)?1:0,g=o.line+u,p=s.line+u;g>f&&(a&&i.push({origFrom:r,origTo:d,editFrom:n,editTo:f}),n=g,r=p)}else P(c==DIFF_INSERT?o:s,l[1])}return(n<=o.line||r<=s.line)&&i.push({origFrom:r,origTo:s.line+1,editFrom:n,editTo:o.line+1}),i}function L(t,e){if(e==t.length-1)return!0;var i=t[e+1][1];return!(1==i.length&&e<t.length-2||10!=i.charCodeAt(0))&&(e==t.length-2||((i=t[e+2][1]).length>1||e==t.length-3)&&10==i.charCodeAt(0))}function T(t,e){if(0==e)return!0;var i=t[e-1][1];return 10==i.charCodeAt(i.length-1)&&(1==e||10==(i=t[e-2][1]).charCodeAt(i.length-1))}function E(i,n,r){i.addLineClass(n,"wrap","CodeMirror-merge-collapsed-line");var o=document.createElement("span");o.className="CodeMirror-merge-collapsed-widget",o.title=i.phrase("Identical text collapsed. Click to expand.");var s=i.markText(e(n,0),e(r-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:o,clearOnEnter:!0});function a(){s.clear(),i.removeLineClass(n,"wrap","CodeMirror-merge-collapsed-line")}return s.explicitlyCleared&&a(),t.on(o,"click",a),s.on("clear",a),t.on(o,"click",a),{mark:s,clear:a}}function A(t,e){var i=[];function n(){for(var t=0;t<i.length;t++)i[t].clear()}for(var r=0;r<e.length;r++){var o=e[r],s=E(o.cm,o.line,o.line+t);i.push(s),s.mark.on("clear",n)}return i[0].mark}function F(t,e,i,n){for(var r=0;r<t.chunks.length;r++)for(var o=t.chunks[r],s=o.editFrom-e;s<o.editTo+e;s++){var a=s+i;a>=0&&a<n.length&&(n[a]=!1)}}function I(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function O(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild)}function N(t){for(var e=1;e<arguments.length;e+=2)t.setAttribute(arguments[e],arguments[e+1])}function V(t,e){for(var i in e||(e={}),t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function P(t,i,n,r){for(var o=n?e(t.line,t.ch):t,s=0;;){var a=i.indexOf("\n",s);if(-1==a)break;++o.line,r&&++r.line,s=a+1}return o.ch=(s?0:o.ch)+(i.length-s),r&&(r.ch=(s?0:r.ch)+(i.length-s)),o}function R(t){this.cm=t,this.alignable=[],this.height=t.doc.height;var e=this;t.on("markerAdded",(function(t,i){if(i.collapsed){var n=i.find(1);null!=n&&e.set(n.line,4)}})),t.on("markerCleared",(function(t,i,n,r){null!=r&&i.collapsed&&e.check(r,4,e.hasMarker)})),t.on("markerChanged",this.signal.bind(this)),t.on("lineWidgetAdded",(function(t,i,n){i.mergeSpacer||(i.above?e.set(n-1,2):e.set(n,1))})),t.on("lineWidgetCleared",(function(t,i,n){i.mergeSpacer||(i.above?e.check(n-1,2,e.hasWidgetBelow):e.check(n,1,e.hasWidget))})),t.on("lineWidgetChanged",this.signal.bind(this)),t.on("change",(function(t,i){var n=i.from.line,r=i.to.line-i.from.line,o=i.text.length-1,s=n+o;(r||o)&&e.map(n,r,o),e.check(s,4,e.hasMarker),(r||o)&&e.check(i.from.line,4,e.hasMarker)})),t.on("viewportChange",(function(){e.cm.doc.height!=e.height&&e.signal()}))}function $(t,e){return(t.line-e.line||t.ch-e.ch)<0?t:e}function B(t,e){return(t.line-e.line||t.ch-e.ch)>0?t:e}function W(t,e){return t.line==e.line&&t.ch==e.ch}function G(t,e,i){for(var n=t.length-1;n>=0;n--){var r=t[n],o=(i?r.origTo:r.editTo)-1;if(o<e)return o}}function H(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],o=i?r.origFrom:r.editFrom;if(o>e)return o}}function U(e,i){var n=null,o=e.state.diffViews,s=e.getCursor().line;if(o)for(var a=0;a<o.length;a++){var l=o[a],c=e==l.orig;r(l);var h=i<0?G(l.chunks,s,c):H(l.chunks,s,c);null==h||null!=n&&!(i<0?h>n:h<n)||(n=h)}if(null==n)return t.Pass;e.setCursor(n,0)}C.prototype={constructor:C,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(t){this.right&&this.right.setShowDifferences(t),this.left&&this.left.setShowDifferences(t)},rightChunks:function(){if(this.right)return r(this.right),this.right.chunks},leftChunks:function(){if(this.left)return r(this.left),this.left.chunks}},R.prototype={signal:function(){t.signal(this,"realign"),this.height=this.cm.doc.height},set:function(t,e){for(var i=-1;i<this.alignable.length;i+=2){var n=this.alignable[i]-t;if(0==n){if((this.alignable[i+1]&e)==e)return;return this.alignable[i+1]|=e,void this.signal()}if(n>0)break}this.signal(),this.alignable.splice(i,0,t,e)},find:function(t){for(var e=0;e<this.alignable.length;e+=2)if(this.alignable[e]==t)return e;return-1},check:function(t,e,i){var n=this.find(t);if(-1!=n&&this.alignable[n+1]&e&&!i.call(this,t)){this.signal();var r=this.alignable[n+1]&~e;r?this.alignable[n+1]=r:this.alignable.splice(n,2)}},hasMarker:function(t){var e=this.cm.getLineHandle(t);if(e.markedSpans)for(var i=0;i<e.markedSpans.length;i++)if(e.markedSpans[i].marker.collapsed&&null!=e.markedSpans[i].to)return!0;return!1},hasWidget:function(t){var e=this.cm.getLineHandle(t);if(e.widgets)for(var i=0;i<e.widgets.length;i++)if(!e.widgets[i].above&&!e.widgets[i].mergeSpacer)return!0;return!1},hasWidgetBelow:function(t){if(t==this.cm.lastLine())return!1;var e=this.cm.getLineHandle(t+1);if(e.widgets)for(var i=0;i<e.widgets.length;i++)if(e.widgets[i].above&&!e.widgets[i].mergeSpacer)return!0;return!1},map:function(t,e,i){for(var n=i-e,r=t+e,o=-1,s=-1,a=0;a<this.alignable.length;a+=2){var l=this.alignable[a];l==t&&2&this.alignable[a+1]&&(o=a),l==r&&2&this.alignable[a+1]&&(s=a),l<=t||(l<r?this.alignable.splice(a--,2):this.alignable[a]+=n)}if(o>-1){var c=this.alignable[o+1];2==c?this.alignable.splice(o,2):this.alignable[o+1]=-3&c}s>-1&&i&&this.set(t+i,2)}},t.commands.goNextDiff=function(t){return U(t,1)},t.commands.goPrevDiff=function(t){return U(t,-1)}}(i("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/codemirror/addon/merge/merge.css":function(t,e,i){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/editor/editor-modal-conflict.vue?vue&type=style&index=0&lang=scss&":function(t,e,i){}}]);